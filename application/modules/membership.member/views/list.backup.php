<style type="text/css">
	.ps-timeline-sec {
	  position: relative;
	  background: #fff;
	}
	.ps-timeline-sec .container {
	  position: relative;
	}
	@media screen and (max-width: 767px) {
	  .ps-timeline-sec .container ol:before {
	    background: #348e80;
	    content: "";
	    width: 10px;
	    height: 10px;
	    border-radius: 100%;
	    position: absolute;
	    top: 130px !important;
	    left: 36px !important;
	  }
	  .ps-timeline-sec .container ol:after {
	    background: #348e80;
	    content: "";
	    width: 10px;
	    height: 10px;
	    border-radius: 100%;
	    position: absolute;
	    top: inherit !important;
	    left: 36px;
	  }
	  .ps-timeline-sec .container ol.ps-timeline {
	    margin: 130px 0 !important;
	    border-left: 2px solid #348e80;
	    padding-left: 0 !important;
	    padding-top: 120px !important;
	    border-top: 0 !important;
	    margin-left: 25px !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li {
	    height: 220px;
	    float: none !important;
	    width: inherit !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li:nth-child(2) .img-handler-bot img {
	    width: 70px;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li:last-child {
	    margin: 0;
	    bottom: 0 !important;
	    height: 120px;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li:last-child .img-handler-bot {
	    bottom: 40px !important;
	    width: 40% !important;
	    margin-left: 25px !important;
	    margin-top: 0 !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li:last-child .img-handler-bot img {
	    width: 100%;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li:last-child .ps-top {
	    margin-bottom: 0 !important;
	    top: 20px;
	    width: 50% !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li span {
	    left: 0 !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li span.ps-sp-top:before {
	    content: none !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li span.ps-sp-top:after {
	    content: none !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li span.ps-sp-bot:before {
	    content: none !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li span.ps-sp-bot:after {
	    content: none !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li .img-handler-top {
	    position: absolute !important;
	    bottom: 150px !important;
	    width: 30% !important;
	    float: left !important;
	    margin-left: 35px !important;
	    margin-bottom: 0 !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li .img-handler-top img {
	    margin: 0 auto !important;
	    width: 80% !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li .img-handler-bot {
	    position: absolute !important;
	    bottom: 115px !important;
	    width: 30% !important;
	    float: left !important;
	    margin-left: 35px !important;
	    margin-bottom: 0 !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li p {
	    text-align: left !important;
	    width: 100% !important;
	    margin: 0 auto !important;
	    margin-top: 0px !important;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li .ps-top {
	    width: 60% !important;
	    float: right !important;
	    right: 0;
	    top: -40px;
	  }
	  .ps-timeline-sec .container ol.ps-timeline li .ps-bot {
	    width: 60% !important;
	    float: right !important;
	    right: 0;
	    top: -40px;
	  }
	}
	.ps-timeline-sec .container ol:before {
	  background: #93bfb8;
	  content: "";
	  width: 10px;
	  height: 10px;
	  border-radius: 100%;
	  position: absolute;
	  left: 8px;
	  top: 49.5%;
	}
	.ps-timeline-sec .container ol:after {
	  background: #93bfb8;
	  content: "";
	  width: 10px;
	  height: 10px;
	  border-radius: 100%;
	  position: absolute;
	  right: 8px;
	  top: 49.5%;
	}
	.ps-timeline-sec .container ol.ps-timeline {
	  margin: 75px 0;
	  padding: 0;
	  border-top: 2px solid #348e80;
	  list-style: none;
	}
	.ps-timeline-sec .container ol.ps-timeline li {
	  float: left;
	  width: 8%;
	  padding-top: 30px;
	  position: relative;
	}
	.ps-timeline-sec .container ol.ps-timeline li span {
	  width: 50px;
	  height: 50px;
	  margin-left: 0px;
	  background: #fff;
	  border: 4px solid #348e80;
	  border-radius: 50%;
	  box-shadow: 0 0 0 0px #fff;
	  text-align: center;
	  line-height: 42px;
	  color: #df8625;
	  font-size: 2em;
	  font-style: normal;
	  position: absolute;
	  top: -26px;
	  left: 50%;
	}
	.ps-timeline-sec .container ol.ps-timeline li span.ps-sp-top:before {
	  content: "";
	  color: #348e80;
	  width: 2px;
	  height: 50px;
	  background: #348e80;
	  position: absolute;
	  top: -50px;
	  left: 50%;
	}
	.ps-timeline-sec .container ol.ps-timeline li span.ps-sp-top:after {
	  content: "";
	  color: #348e80;
	  width: 8px;
	  height: 8px;
	  background: #348e80;
	  position: absolute;
	  bottom: 90px;
	  left: 44%;
	  border-radius: 100%;
	}
	.ps-timeline-sec .container ol.ps-timeline li span.ps-sp-bot:before {
	  content: "";
	  color: #348e80;
	  width: 2px;
	  height: 50px;
	  background: #348e80;
	  position: absolute;
	  bottom: -50px;
	  left: 50%;
	}
	.ps-timeline-sec .container ol.ps-timeline li span.ps-sp-bot:after {
	  content: "";
	  color: #348e80;
	  width: 8px;
	  height: 8px;
	  background: #348e80;
	  position: absolute;
	  top: 90px;
	  left: 44%;
	  border-radius: 100%;
	}
	.ps-timeline-sec .container ol.ps-timeline li .img-handler-top {
	  position: absolute;
	  bottom: 0;
	  margin-bottom: 130px;
	  width: 100%;
	}
	.ps-timeline-sec .container ol.ps-timeline li .img-handler-top img {
	  display: table;
	  margin: 0 auto;
	}
	.ps-timeline-sec .container ol.ps-timeline li .img-handler-bot {
	  position: absolute;
	  margin-top: 60px;
	  width: 100%;
	}
	.ps-timeline-sec .container ol.ps-timeline li .img-handler-bot img {
	  display: table;
	  margin: 0 auto;
	}
	.ps-timeline-sec .container ol.ps-timeline li p {
	  text-align: center;
	  width: 80%;
	  margin: 0 auto;
	}
	.ps-timeline-sec .container ol.ps-timeline li .ps-top {
	  position: absolute;
	  bottom: 0;
	  margin-bottom: 100px;
	}
	.ps-timeline-sec .container ol.ps-timeline li .ps-bot {
	  position: absolute;
	  margin-top: 35px;
	}

</style>
<script type="text/javascript" src="<?= base_url();?>assets/ui-member/js/freeze-table.js"></script>
<script type="text/javascript">
	$(function () {
		// pageHistory(1);
		TableResponsive();
	});	
	function TableResponsive(){
		$('#membership').freezeTable({
         'scrollBar': true,
         'headWrapStyles': {'top': '45px','width': '100px'},
         'columnNum' : 0,
        });

        $('#membershipHistory').freezeTable({
         'scrollBar': true,
         'headWrapStyles': {'top': '45px','width': '100px'},
         'columnNum' : 0,
        });
	}
	$( window ).resize(function() {
	  TableResponsive();
	})

  function pageHistory(pg)
  { 
    showProgres();
    $.post(base_url(1)+'/membership.member/manage/pageHistory/'+pg
      // ,{
      //   id_member :$('#id_member').val()
      // }
      ,function(result) {
        $('#tableHistory').html(result);
        hideProgres();
      }         
      ,"html"
    );
  }
</script>

<table  style="margin-bottom:0px;width: 100%">
<tbody >
    <tr >
        <th >
            <h4 > 
            	<b>Type Member : <?= $member['lisensi'] ?>, Total Penjualan : <?= $member['jumlah_barang'] ?> </b><br>
            	<code>Note : Jika member berhasil menjual minimal 12 barang, maka Type member akan diupdate menjadi PREMIUM</code>
        	</h4>
        </th>
      <!--   <th  class="text-right">
        	
        </th> -->
    </tr>
</tbody>
</table>
<div class="row">
	<div class="col-lg-12">
		<div class="d-flex justify-content-between mt-2">
          <small>Free</small>
          <small>15</small>
        </div>
        <div class="progress progress-sm mt-2">
          <div class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar" style="width: 100%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="15"></div>
        </div>
		   <section class="ps-timeline-sec">
		        <div class="container">
		            <ol class="ps-timeline">
		            	<?php 
			              	for ($i=1; $i <= 12; $i++) {
			              		if ($i== 1) {
			              			if ($i <= $member['jumlah_barang']) {
					              	 	?>
				              	 			 <li>
				              	 			 	<div class="img-handler-bot" style="margin-left: 35%;">
							                        <p style="width: 100%;"> FREE </p>
							                    </div>
							                    <span class="ps-sp-bot"><?= $i; ?></span>
				              	 			 </li>
					              	 	<?php
					              	 }else{
					              	 	?>
						              	 	<li>
				              	 			 	<div class="img-handler-bot" style="margin-left: 35%;">
							                        <p style="width: 100%;"> FREE </p>
							                    </div>
							                    <span class="ps-sp-bot"  style="border: 4px solid #93bfb8; color: #fdbd78;"><?= $i; ?></span>
				              	 			 </li>
					              		<?php
					              	 }
			              			?>
				              		<?php
			              		}else if ($i == 12) {
			              			if ($i <= $member['jumlah_barang']) {
					              	 	?>
						              	 	<li>
				              	 			 	<div class="img-handler-bot" style="margin-left: 35%;">
							                        <p style="width: 100%;"> PREMIUM </p>
							                    </div>
							                    <span class="ps-sp-bot"><?= $i; ?></span>
				              	 			 </li>
					              	 	<?php
					              	 }else{
					              	 	?>
					              			<li>
				              	 			 	<div class="img-handler-bot" style="margin-left: 35%;">
							                        <p style="width: 100%;"> PREMIUM </p>
							                    </div>
							                    <span class="ps-sp-bot" style="border: 4px solid #93bfb8; color: #fdbd78;"><?= $i; ?></span>
				              	 			 </li>
					              		<?php
					              	 }
			              			?>
				              	 		
				              		<?php
			              		}else{
			              			if ($i <= $member['jumlah_barang']) {
					              	 	?>
					              	 		<li>
					              	 		 	<span><?= $i ?></span>
					              	 		</li>
					              	 	<?php
					              	 }else{
					              	 	?>
					              	 		<li>
					              			 	<span style="border: 4px solid #93bfb8; color: #fdbd78;"><?= $i ?></span>
					              			</li>
					              		<?php
					              	 }
			              		}
				              
			              	}
			             ?>
		                <!-- <li>
		                    <div class="ps-bot">
		                        <p>Do you have a recent injury or long term pain?</p>
		                    </div>
		                    <span class="ps-sp-top">01</span>
		                </li> -->
		            </ol>
		        </div>
		    </section>
	</div>
</div>
<hr style="margin-top: 4rem;">
<div class="row">
<div class="col-lg-12">
  <h5>Komisi Bulan Ini</h5></div>
<div class="col-lg-6" style="margin-bottom: 1%;">
  <div class="card text-white bg-primary text-right">
      <h6 class="card-header">Profit</h6>
      <div class="card-body pb-0">
          <h4 class="mb-0">Rp <?= number_format($komisi['profit']) ?></h4>
          <p>Omset : <?= number_format($komisi['omset_profit']) ?></p>
      </div>
  </div>
</div>
<div class="col-lg-6" style="margin-bottom: 1%;">
  <div class="card text-white bg-info text-right">
      <h6 class="card-header">Komisi Penjualan</h6>
      <div class="card-body pb-0">
          <h4 class="mb-0">Rp <?= number_format($komisi['komisi_referal'])?></h4>
          <p>Omset : <?= number_format($komisi['omset_referal']) ?></p>
      </div>
  </div>
</div>
<div class="col-lg-12" style="margin-bottom: 1%;">
  <div class="card text-white bg-warning
 text-right">
      <h6 class="card-header">Total Commission</h6>
      <div class="card-body pb-0">
          <!---->
          <h4 class="mb-0">Rp <?= number_format($komisi['profit'] + $komisi['komisi_referal'])?></h4>
          <!---->
          <p></p>
      </div>
  </div>
</div>
</div>
<!-- 
<div class="table-with-scrollbar" id="membershipHistory" style='width: 100%;'>
<table class="table table-bordered table-hover">
	<thead>
		<tr>
			<th>No</th>
			<th>Jumlah Member</th>
			<th>Tanggal</th>
			<th>Komisi Referal</th>
			<th>Komisi Penjualan</th>
			<th>Omset Penjualan</th>
		</tr>
	</thead>
	<tbody id="tableHistory">
	</tbody>
</table>
</div> -->
<br>
<div class="table-with-scrollbar" id="membership" style='width: 100%;'>
<table class="table table-bordered table-hover">
	<thead>
		<tr>
			<th>No</th>
			<th>Name</th>
			<th>Email</th>
			<th>No Telpn</th>
			<th>Tim Member</th>
			<!-- <th>*</th> -->
		</tr>
	</thead>
	<tbody>
		<?php 
			$no = 0; 
			foreach ($list->result_array() as $row) {
				$no++;
			?>
				<tr>
					<td><?= $no; ?></td>
					<td><?= $row['nama']?></td>
					<td><?= $row['email']?></td>
					<td><?= $row['nomor_telepon']?></td>
					<td><?= $row['total_upline1'] ?></td>
					<!-- <td>
						<a href="javascript:void(0)" class="btn btn-warning btn-sm" 
						onclick="
						$('#id_member').val('<?= $row['id']?>');
						$('#MemberName').append(' > <a href=\'javascript:void(0)\'>'+'<?= $row['nama']; ?>'+'</a>');
						pageLoadMemberShip(1);
						
						"
						>View Detail</a>
					</td>
					 -->
				</tr>
			<?php
			}
		 ?>
	</tbody>
</table>
</div>